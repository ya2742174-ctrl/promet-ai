<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÙŠÙˆØ³Ù Ùˆ Ù…ÙƒØ§Ø±ÙŠÙˆØ³ | Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±ÙˆÙ…ØªØ§Øª</title>
  <link rel="canonical" href="https://ya2742174-ctrl.github.io/promet-ai/" />
  <style>
    :root {
      --primary: #4b6bfb;
      --bg: #f4f6fa;
      --card: #ffffff;
      --text: #111;
      --muted: #666;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    body {
      direction: rtl;
      background: linear-gradient(135deg, #f1f3fa, #e8ecf8);
      color: var(--text);
      padding: 20px;
      margin: 0;
    }

    .container {
      max-width: 900px;
      margin: auto;
    }

    header {
      text-align: center;
      margin-bottom: 20px;
    }

    header h1 {
      font-size: 24px;
      color: var(--primary);
      margin: 0;
    }

    form {
      background: var(--card);
      padding: 18px;
      border-radius: 14px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    }

    label {
      display: block;
      margin-top: 12px;
      font-size: 14px;
      color: var(--muted);
    }

    input, textarea, select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d9dce2;
      margin-top: 6px;
      box-sizing: border-box;
      transition: border-color 0.2s;
    }

    input:focus, textarea:focus {
      border-color: var(--primary);
      outline: none;
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    button {
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 10px 18px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.25s;
    }

    button:hover {
      background: #3f5ae0;
    }

    .small {
      background: #eee;
      color: #333;
      font-size: 13px;
    }

    .small:hover {
      background: #ddd;
    }

    .row {
      display: grid;
      grid-template-columns: 1fr 140px;
      gap: 10px;
    }

    .note {
      font-size: 13px;
      color: var(--muted);
      margin-top: 8px;
    }

    .posts {
      margin-top: 22px;
    }

    .post {
      background: var(--card);
      border-radius: 12px;
      padding: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.05);
      margin-bottom: 14px;
      position: relative;
      overflow: hidden;
    }

    .image-preview {
      max-width: 260px;
      border-radius: 10px;
      margin-top: 10px;
      display: block;
    }

    footer {
      margin-top: 20px;
      font-size: 12px;
      text-align: center;
      color: var(--muted);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ“œ Ù…Ù†ØµØ© Ù†Ø´Ø± Ø¨Ø±ÙˆÙ…ØªØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h1>
      <p style="color:#555;font-size:14px">Ø´Ø§Ø±Ùƒ Ø£ÙÙƒØ§Ø±Ùƒ ÙˆØ§Ø¨ØªÙƒØ§Ø±Ø§ØªÙƒ Ù…Ø¹ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ø­Ù„ÙŠ</p>
    </header>

    <form id="postForm">
      <label>Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
        <input id="author" placeholder="Ø§Ø³Ù…Ùƒ Ø£Ùˆ Ù…Ø³ØªØ¹Ø§Ø±">
      </label>

      <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        <input id="title" required placeholder="Ø¹Ù†ÙˆØ§Ù† Ù‚ØµÙŠØ±">
      </label>

      <label>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
        <textarea id="content" required placeholder="Ø§ÙƒØªØ¨ ÙÙƒØ±ØªÙƒ Ø£Ùˆ Ø¨Ø±ÙˆÙ…ØªÙƒ Ù‡Ù†Ø§..."></textarea>
      </label>

      <label>Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
        <input id="image" type="file" accept="image/*">
      </label>

      <div class="row">
        <div>
          <label>ØªØ­Ø¯ÙŠ Ø£Ù…Ø§Ù† (Ø§ÙƒØªØ¨ 7 + 3 = ?)
            <input id="captcha" required placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§">
          </label>
        </div>
      </div>

      <div style="display:flex;gap:10px;margin-top:12px">
        <button type="submit">ğŸš€ Ø§Ù†Ø´Ø± Ø§Ù„Ø¢Ù†</button>
        <button type="button" id="clear" class="small">Ù…Ø³Ø­</button>
      </div>

      <p class="note">âš ï¸ ÙƒÙ„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ§Øª ØªØ¸Ù‡Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ù„ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†. Ø±Ø§Ø¨Ø· Ø§Ù„Ù‚Ù†Ø§Ø© Ù…Ø¯Ù…Ø¬ Ù„ÙƒÙ„ Ù…Ù†Ø´ÙˆØ±.</p>
    </form>

    <section class="posts" id="posts"></section>

    <footer>
      <div>Â© 2025 Ù…Ù†ØµØ© ÙŠÙˆØ³Ù ÙˆÙ…ÙƒØ§Ø±ÙŠÙˆØ³</div>
    </footer>
  </div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script>
    // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyDvCIYUvd3Dn1r6OIk0hoq1bgu4fWDS5lM",
  authDomain: "youssefandmacariusprompts.firebaseapp.com",
  databaseURL: "https://youssefandmacariusprompts-default-rtdb.firebaseio.com",
  projectId: "youssefandmacariusprompts",
  storageBucket: "youssefandmacariusprompts.firebasestorage.app",
  messagingSenderId: "1038989416124",
  appId: "1:1038989416124:web:d4d3a5b813e075a05922b9"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
    // âš¡ Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…Ø´Ø±ÙˆØ¹Ùƒ Ø¹Ù„Ù‰ Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyXXXXXX-XXXX",
      authDomain: "project-id.firebaseapp.com",
      databaseURL: "https://project-id-default-rtdb.firebaseio.com",
      projectId: "project-id",
      storageBucket: "project-id.appspot.com",
      messagingSenderId: "1234567890",
      appId: "1:1234567890:web:abcdef123456"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const $ = (id)=>document.getElementById(id);

    function escapeHtml(t){
      return t.replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }

    function renderPosts(posts){
      const container = $('posts');
      container.innerHTML = posts.length ? '' : '<p style="color:#777">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø¨Ø¹Ø¯.</p>';
      posts.sort((a,b)=>b.created - a.created).forEach(p=>{
        const el = document.createElement('article');
        el.className = 'post';
        el.innerHTML = `
          <div class="meta"><b>${escapeHtml(p.title)}</b> â€” ${escapeHtml(p.author || 'Ù…Ø¬Ù‡ÙˆÙ„')} 
          <span style="float:left">${new Date(p.created).toLocaleString('ar-EG')}</span></div>
          <div>${escapeHtml(p.content).replace(/\n/g,'<br>')}</div>
          ${p.image ? `<img class="image-preview" src="${p.image}" alt="ØµÙˆØ±Ø©">` : ''}
          <div style="margin-top:8px; font-size:13px">
            ğŸ”— <a href="https://whatsapp.com/channel/0029Vb6qYp4EKyZCmEb9Pa0x" target="_blank">Ø§Ù†Ø¶Ù… Ù„Ù‚Ù†Ø§Ø© ÙˆØ§ØªØ³Ø§Ø¨</a>
          </div>
        `;
        container.appendChild(el);
      });
    }

    // Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ§Øª Ù…Ø¨Ø§Ø´Ø±Ø©
    db.ref('posts').on('value', snapshot=>{
      const data = snapshot.val();
      const posts = data ? Object.values(data) : [];
      renderPosts(posts);
    });

    $('postForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const author = $('author').value.trim();
      const title = $('title').value.trim();
      const content = $('content').value.trim();
      const captcha = $('captcha').value.trim();

      if(captcha !== '10'){ return alert('Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØªØ­Ø¯ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­Ø©.'); }
      if(!title || !content){ return alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰.'); }

      let imageData = null;
      const file = $('image').files[0];
      if(file){
        if(file.size > 2_500_000){ return alert('Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 2.5MB).'); }
        imageData = await new Promise((res,rej)=>{
          const r = new FileReader();
          r.onload=()=>res(r.result);
          r.onerror=()=>rej();
          r.readAsDataURL(file);
        });
      }

      const newPost = {author,title,content,image:imageData,created:Date.now()};
      db.ref('posts').push(newPost);
      e.target.reset();
      alert('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­!');
    });

    $('clear').onclick = ()=> $('postForm').reset();
  </script>
</body>
</html>
